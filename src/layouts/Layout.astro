---
const { title = 'Musical Arts Competition of OC' } = Astro.props;
---
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="icon" type="image/x-icon" href="/favicon.ico" />
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Mr+De+Haviland&display=swap" rel="stylesheet">
		<meta name="generator" content={Astro.generator} />
		<title>{title}</title>
		<style>
			:root {
				--primary-color: #3498db;
				--primary-dark: #2980b9;
				--secondary-color: #2c3e50;
				--accent-color: #e74c3c;
				--bg-light: #f8f9fa;
				--bg-lighter: #e9ecef;
				--text-dark: #333;
				--text-medium: #555;
				--text-light: #666;
				--shadow-light: 0 2px 10px rgba(0,0,0,0.1);
				--shadow-medium: 0 4px 6px rgba(0,0,0,0.1);
				--border-radius: 10px;
				--transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
			}
			
			* {
				margin: 0;
				padding: 0;
				box-sizing: border-box;
			}
			
			body {
				font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
				line-height: 1.6;
				color: var(--text-dark);
				background-color: var(--bg-light);
				font-size: 16px;
				-webkit-font-smoothing: antialiased;
				-moz-osx-font-smoothing: grayscale;
			}
			
			/* Header and Navigation */
			header {
				background: linear-gradient(135deg, var(--secondary-color), var(--primary-color));
				color: white;
				padding: 1rem 0;
				box-shadow: var(--shadow-light);
				position: sticky;
				top: 0;
				z-index: 1000;
			}
			
			.header-container {
				max-width: 1200px;
				margin: 0 auto;
				padding: 0 1rem;
			}
			
			header h1 {
				text-align: center;
				font-size: clamp(1.5rem, 4vw, 2.5rem);
				margin-bottom: 1rem;
				font-weight: 300;
				line-height: 1.2;
			}
			
			/* Mobile Navigation */
			.nav-container {
				position: relative;
			}
			
			.menu-toggle {
				display: none;
				background: none;
				border: none;
				color: white;
				font-size: 1.5rem;
				cursor: pointer;
				padding: 0.5rem;
				border-radius: 5px;
				transition: var(--transition);
				position: absolute;
				top: -3rem;
				right: 0;
			}
			
			.menu-toggle:hover {
				background-color: rgba(255,255,255,0.1);
			}
			
			.menu-toggle:focus {
				outline: 2px solid rgba(255,255,255,0.5);
				outline-offset: 2px;
			}
			
			nav {
				display: flex;
				justify-content: center;
				gap: 2rem;
				flex-wrap: wrap;
			}
			
			nav a {
				color: white;
				text-decoration: none;
				padding: 0.75rem 1.5rem;
				border-radius: 25px;
				transition: var(--transition);
				font-weight: 500;
				font-size: 1rem;
				position: relative;
				overflow: hidden;
			}
			
			nav a::before {
				content: '';
				position: absolute;
				top: 0;
				left: -100%;
				width: 100%;
				height: 100%;
				background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
				transition: left 0.5s;
			}
			
			nav a:hover::before {
				left: 100%;
			}
			
			nav a:hover {
				background-color: rgba(255,255,255,0.15);
				transform: translateY(-2px);
			}
			
			nav a:focus {
				outline: 2px solid rgba(255,255,255,0.5);
				outline-offset: 2px;
			}
			
			/* Main Content */
			main {
				max-width: 1200px;
				margin: 2rem auto;
				padding: 0 1rem;
				background: white;
				border-radius: var(--border-radius);
				box-shadow: var(--shadow-medium);
				min-height: 60vh;
				overflow: hidden;
			}
			
			main > * {
				padding: clamp(1rem, 4vw, 2rem);
			}
			
			/* Typography Improvements */
			h1, h2, h3, h4, h5, h6 {
				line-height: 1.2;
				color: var(--secondary-color);
				margin-bottom: 1rem;
			}
			
			h2 {
				font-size: clamp(1.8rem, 5vw, 2.5rem);
				font-weight: 300;
			}
			
			h3 {
				font-size: clamp(1.4rem, 4vw, 1.8rem);
				font-weight: 400;
			}
			
			h4 {
				font-size: clamp(1.2rem, 3vw, 1.3rem);
				font-weight: 500;
			}
			
			p {
				margin-bottom: 1rem;
				line-height: 1.7;
				font-size: clamp(0.9rem, 2.5vw, 1rem);
			}
			
			/* Button Improvements */
			.btn {
				display: inline-block;
				padding: 1rem 2rem;
				text-decoration: none;
				border-radius: 25px;
				font-weight: 600;
				font-size: 1rem;
				transition: var(--transition);
				cursor: pointer;
				border: none;
				position: relative;
				overflow: hidden;
				min-height: 48px; /* Touch target size */
				line-height: 1.2;
				text-align: center;
			}
			
			.btn::before {
				content: '';
				position: absolute;
				top: 50%;
				left: 50%;
				width: 0;
				height: 0;
				background: rgba(255,255,255,0.3);
				border-radius: 50%;
				transform: translate(-50%, -50%);
				transition: width 0.3s, height 0.3s;
			}
			
			.btn:active::before {
				width: 300px;
				height: 300px;
			}
			
			.btn-primary {
				background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
				color: white;
				box-shadow: 0 4px 15px rgba(52, 152, 219, 0.3);
			}
			
			.btn-primary:hover {
				transform: translateY(-3px);
				box-shadow: 0 8px 25px rgba(52, 152, 219, 0.4);
			}
			
			.btn-secondary {
				background: linear-gradient(135deg, #95a5a6, #7f8c8d);
				color: white;
				box-shadow: 0 4px 15px rgba(149, 165, 166, 0.3);
			}
			
			.btn-secondary:hover {
				transform: translateY(-3px);
				box-shadow: 0 8px 25px rgba(149, 165, 166, 0.4);
			}
			
			/* Footer */
			footer {
				background-color: var(--secondary-color);
				color: white;
				text-align: center;
				padding: 2rem 1rem;
				margin-top: 2rem;
				font-size: 0.95rem;
			}
			
			/* Loading Animation */
			.loading {
				opacity: 0;
				transform: translateY(20px);
				animation: fadeInUp 0.6s ease forwards;
			}
			
			@keyframes fadeInUp {
				to {
					opacity: 1;
					transform: translateY(0);
				}
			}
			
			/* Smooth Scrolling */
			html {
				scroll-behavior: smooth;
			}
			
			/* Focus Styles for Accessibility */
			*:focus {
				outline-color: var(--primary-color);
			}
			
			/* Mobile Optimizations */
			@media (max-width: 768px) {
				.menu-toggle {
					display: block;
				}
				
				nav {
					display: none;
					position: absolute;
					top: 100%;
					left: 0;
					right: 0;
					background: linear-gradient(135deg, var(--secondary-color), var(--primary-color));
					flex-direction: column;
					gap: 0;
					padding: 1rem 0;
					border-radius: 0 0 15px 15px;
					box-shadow: var(--shadow-light);
					animation: slideDown 0.3s ease;
				}
				
				nav.active {
					display: flex;
				}
				
				nav a {
					padding: 1rem 1.5rem;
					margin: 0 1rem;
					border-radius: 10px;
					font-size: 1.1rem;
					min-height: 48px;
					display: flex;
					align-items: center;
					justify-content: center;
				}
				
				main {
					margin: 1rem auto;
					border-radius: 15px 15px 0 0;
				}
				
				main > * {
					padding: 1.5rem;
				}
				
				.btn {
					width: 100%;
					max-width: 300px;
					margin: 0.5rem auto;
					padding: 1.2rem 2rem;
					font-size: 1.1rem;
				}
				
				/* Better touch targets */
				a, button, input, select, textarea {
					min-height: 44px;
				}
				
				/* Improved spacing for mobile */
				section {
					margin-bottom: 2rem;
				}
				
				/* Hide scroll bars on mobile for cleaner look */
				body {
					-ms-overflow-style: none;
					scrollbar-width: none;
				}
				
				body::-webkit-scrollbar {
					display: none;
				}
			}
			
			@keyframes slideDown {
				from {
					opacity: 0;
					transform: translateY(-10px);
				}
				to {
					opacity: 1;
					transform: translateY(0);
				}
			}
			
			/* Extra small devices */
			@media (max-width: 480px) {
				header h1 {
					font-size: 1.4rem;
					margin-bottom: 0.5rem;
				}
				
				main {
					margin: 0.5rem;
					border-radius: 10px;
				}
				
				main > * {
					padding: 1rem;
				}
				
				.btn {
					padding: 1rem 1.5rem;
				}
			}
			
			/* Improved Animations */
			@media (prefers-reduced-motion: reduce) {
				*, *::before, *::after {
					animation-duration: 0.01ms !important;
					animation-iteration-count: 1 !important;
					transition-duration: 0.01ms !important;
				}
			}
		</style>
	</head>
	<body>
		<header>
			<div class="header-container">
				<h1>{title}</h1>
				<div class="nav-container">
					<button class="menu-toggle" aria-label="Toggle menu" aria-expanded="false">
						<span id="menu-icon">☰</span>
					</button>
					<nav id="main-nav" role="navigation">
						<a href="/" aria-label="Home page">Home</a>
						<a href="/competition" aria-label="Competition information">Competition</a>
						<a href="/directory" aria-label="Directory of teachers and members">Directory</a>
						<a href="/schedule" aria-label="Important dates and schedule">Schedule</a>
						<a href="/regulation" aria-label="Competition regulations">Regulation</a>
						<a href="/winners" aria-label="Past winners">Winners</a>
						<a href="/contact" aria-label="Contact information">Contact</a>
					</nav>
				</div>
			</div>
		</header>
		<main class="loading">
			<slot />
		</main>
		<footer>
			© {new Date().getFullYear()} Musical Arts Competition of Orange County
		</footer>
		
		<script>
			// Mobile menu toggle
			const menuToggle = document.querySelector('.menu-toggle');
			const nav = document.querySelector('#main-nav');
			const menuIcon = document.querySelector('#menu-icon');
			
			menuToggle?.addEventListener('click', () => {
				const isActive = nav?.classList.toggle('active');
				menuToggle.setAttribute('aria-expanded', isActive ? 'true' : 'false');
				if (menuIcon) menuIcon.textContent = isActive ? '✕' : '☰';
			});
			
			// Close menu when clicking outside
			document.addEventListener('click', (e) => {
				const target = e.target as Node;
				if (!nav?.contains(target) && !menuToggle?.contains(target)) {
					nav?.classList.remove('active');
					menuToggle?.setAttribute('aria-expanded', 'false');
					if (menuIcon) menuIcon.textContent = '☰';
				}
			});
			
			// Close menu when pressing Escape
			document.addEventListener('keydown', (e) => {
				if (e.key === 'Escape' && nav?.classList.contains('active')) {
					nav.classList.remove('active');
					menuToggle?.setAttribute('aria-expanded', 'false');
					if (menuIcon) {
						menuIcon.textContent = '☰';
					}
					(menuToggle as HTMLElement)?.focus();
				}
			});
			
			// Add loading animation
			window.addEventListener('load', () => {
				document.querySelector('main')?.classList.add('loading');
			});
			
			// Smooth scroll for anchor links
			document.querySelectorAll('a[href^="#"]').forEach(anchor => {
				anchor.addEventListener('click', (e: Event) => {
					e.preventDefault();
					const href = (anchor as HTMLAnchorElement).getAttribute('href');
					if (href) {
						const target = document.querySelector(href);
						target?.scrollIntoView({
							behavior: 'smooth',
							block: 'start'
						});
					}
				});
			});
			
			// Add touch feedback for buttons
			if ('ontouchstart' in window) {
				document.addEventListener('touchstart', function() {}, {passive: true});
			}
		</script>
	</body>
</html>
